(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"f+ep":function(n,t,l){"use strict";l.r(t);var e=l("8Y7J");class i{}var o=l("pMnS"),u=l("MKJQ"),a=l("sZkV"),r=l("iInd"),c=l("SVse"),s=l("s7LF"),g=l("H+bZ"),b=l("OlR4"),d=l("kPEz");class p{constructor(n,t,l,e){this.apiService=n,this.common=t,this.ga=l,this.router=e,this.userData={gender:"female",identityOne:"",identityTwo:"",identityThree:""},this.validIdentity=""}ngOnInit(){this.ga.trackPagesHandler("Login","/login")}validateIdentityOne(){15==(this.userData.identityOne.toString()+"-"+this.userData.identityTwo.toString()+"-"+this.userData.identityThree.toString()).toString().length?this.validIdentity="valid":this.identityOne&&(this.validIdentity="invalid"),4==this.userData.identityOne.toString().length&&this.identityTwo.nativeElement.focus()}validateIdentityTwo(){let n=this.userData.identityOne.toString()+"-"+this.userData.identityTwo.toString()+"-"+this.userData.identityThree.toString();this.validIdentity=15==n.toString().length?"valid":"invalid",4==this.userData.identityTwo.toString().length&&this.identityThree.nativeElement.focus()}validateIdentityThree(){let n=this.userData.identityOne.toString()+"-"+this.userData.identityTwo.toString()+"-"+this.userData.identityThree.toString();this.validIdentity=15==n.toString().length?"valid":"invalid",5==this.userData.identityThree.toString().length&&this.identityThree.nativeElement.focus()}btnEnabled(){return"valid"==this.validIdentity?"enabled":"disabled"}processForm(){if("enabled"==this.btnEnabled()){let n={identity:this.userData.identityOne.toString()+"-"+this.userData.identityTwo.toString()+"-"+this.userData.identityThree.toString()};this.common.presentLoading(),this.apiService.signin(n).then(n=>{localStorage.setItem("token",n.token),localStorage.setItem("name",n.name),localStorage.setItem("identity",this.userData.identityOne.toString()+"-"+this.userData.identityTwo.toString()+"-"+this.userData.identityThree.toString()),this.apiService.getCurrentReport().then(n=>{localStorage.setItem("statusId",n.status_id),localStorage.setItem("reportId",n.id),this.router.navigate(["/user-status"]),this.common.hideLoading()}).catch(n=>{this.router.navigate(["/user-status"]),this.common.hideLoading()})}).catch(n=>{console.log(n),"user_not_found"==n&&(n="Usuario no encontrado"),this.common.presentToast(n),this.common.hideLoading()}),console.log("Process form"),console.log(n)}else this.validIdentity="invalid",this.common.presentToast("Por favor rellena los campos")}}var h=e.nb({encapsulation:0,styles:[["@import url(https://fonts.googleapis.com/css?family=Rubik:300,400,500,700,900&display=swap);.form-container[_ngcontent-%COMP%]{font-family:Rubik}.label-top-text[_ngcontent-%COMP%]{font-family:Rubik;font-style:normal;font-weight:400;font-size:14px;line-height:17px;color:#777;margin:20px 40px}.element[_ngcontent-%COMP%]{margin-left:40px;margin-right:40px;margin-top:20px;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.element[_ngcontent-%COMP%]   .title-element[_ngcontent-%COMP%]{font-style:normal;font-weight:500;font-size:18px;line-height:21px;letter-spacing:-.47px;color:#333}.element[_ngcontent-%COMP%]   .subtitle-element[_ngcontent-%COMP%]{margin-top:5px;font-style:normal;font-weight:400;font-size:14px;line-height:17px;color:#777}.element[_ngcontent-%COMP%]   .input-container.invalid[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #df3030}.element[_ngcontent-%COMP%]   .input-container.valid[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #30dfa0}.element[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{margin-top:15px;width:100%}.element[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .date-container[_ngcontent-%COMP%], .element[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:10px;width:100%;height:50px;background:#fff;box-sizing:border-box;border-radius:4px;border:1px solid #828282}.element[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:0;border:2px solid #00b1fa}.element[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#828282}.element[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:#828282}.element[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:#828282}.element[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#828282}.element[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .option-list[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}.element[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .option-list[_ngcontent-%COMP%]   .option-element[_ngcontent-%COMP%]{width:45%;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;background:#fff;border:1px solid #90dffc;box-sizing:border-box;border-radius:25px;height:50px}.element[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .option-list[_ngcontent-%COMP%]   .option-element[_ngcontent-%COMP%]   .option-text[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:16px;line-height:19px;color:#00b1fa}.element[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .option-list[_ngcontent-%COMP%]   .option-element[_ngcontent-%COMP%]   .option-input[_ngcontent-%COMP%]{margin:10px;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}.element[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .option-list[_ngcontent-%COMP%]   .option-element[_ngcontent-%COMP%]   .option-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid #90dffc;box-sizing:border-box;height:14px;width:14px}.element[_ngcontent-%COMP%]   .input-container.identity[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}.element[_ngcontent-%COMP%]   .input-container.identity[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:30%}.btn-container-signup[_ngcontent-%COMP%]{background:#00b1fa;border-radius:30px;height:60px;font-style:normal;font-weight:700;font-size:18px;line-height:21px;display:-webkit-box;display:flex;border:0;margin-left:40px;margin-right:40px;-webkit-box-align:center;align-items:center;text-align:center;color:#fff}.btn-container-signup[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;text-align:center}.btn-container-login[_ngcontent-%COMP%]{border:0;border-radius:30px;height:60px;font-style:normal;font-weight:700;font-size:18px;line-height:21px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;text-align:center;color:#fff;margin:40px 40px 10px}.btn-container-login[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;text-align:center}.btn-container-login.disabled[_ngcontent-%COMP%], .btn-container-login.enabled[_ngcontent-%COMP%]{border:1px solid #00b1fa;color:#00b1fa}"]],data:{}});function m(n){return e.Gb(0,[e.Db(671088640,1,{identityOne:0}),e.Db(671088640,2,{identityTwo:0}),e.Db(671088640,3,{identityThree:0}),(n()(),e.pb(3,0,null,null,20,"ion-header",[],null,null,null,u.B,u.i)),e.ob(4,49152,null,0,a.B,[e.h,e.k,e.x],null,null),(n()(),e.pb(5,0,null,0,18,"ion-toolbar",[],null,null,null,u.L,u.s)),e.ob(6,49152,null,0,a.zb,[e.h,e.k,e.x],null,null),(n()(),e.pb(7,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,u.w,u.d)),e.ob(8,49152,null,0,a.l,[e.h,e.k,e.x],null,null),(n()(),e.pb(9,0,null,0,2,"ion-back-button",[["color","primary"]],null,[[null,"click"]],(function(n,t,l){var i=!0;return"click"===t&&(i=!1!==e.Bb(n,11).onClick(l)&&i),i}),u.u,u.b)),e.ob(10,49152,null,0,a.g,[e.h,e.k,e.x],{color:[0,"color"]},null),e.ob(11,16384,null,0,a.h,[[2,a.fb],a.Fb],null,null),(n()(),e.pb(12,0,null,0,7,"ion-buttons",[["slot","end"]],null,null,null,u.w,u.d)),e.ob(13,49152,null,0,a.l,[e.h,e.k,e.x],null,null),(n()(),e.pb(14,0,null,0,5,"ion-button",[["routerDirection","backward"],["routerLink","/map"]],null,[[null,"click"]],(function(n,t,l){var i=!0;return"click"===t&&(i=!1!==e.Bb(n,16).onClick()&&i),"click"===t&&(i=!1!==e.Bb(n,17).onClick(l)&&i),i}),u.v,u.c)),e.ob(15,49152,null,0,a.k,[e.h,e.k,e.x],{routerDirection:[0,"routerDirection"]},null),e.ob(16,16384,null,0,r.n,[r.m,r.a,[8,null],e.B,e.k],{routerLink:[0,"routerLink"]},null),e.ob(17,737280,null,0,a.Ib,[c.g,a.Fb,e.k,r.m,[2,r.n]],{routerDirection:[0,"routerDirection"]},null),(n()(),e.pb(18,0,null,0,1,"ion-icon",[["name","map-outline"],["slot","icon-only"]],null,null,null,u.C,u.j)),e.ob(19,49152,null,0,a.C,[e.h,e.k,e.x],{name:[0,"name"]},null),(n()(),e.pb(20,0,null,0,3,"ion-title",[],null,null,null,u.K,u.r)),e.ob(21,49152,null,0,a.xb,[e.h,e.k,e.x],null,null),(n()(),e.pb(22,0,null,0,1,"ion-img",[["src","assets/icon/LOGO_.svg"],["style","height: 40px;"]],null,null,null,u.D,u.k)),e.ob(23,49152,null,0,a.D,[e.h,e.k,e.x],{src:[0,"src"]},null),(n()(),e.pb(24,0,null,null,45,"ion-content",[],null,null,null,u.y,u.f)),e.ob(25,49152,null,0,a.u,[e.h,e.k,e.x],null,null),(n()(),e.pb(26,0,null,0,43,"div",[["class","form-container"]],null,null,null,null,null)),(n()(),e.pb(27,0,null,null,1,"div",[["class","label-top-text"]],null,null,null,null,null)),(n()(),e.Fb(-1,null,[" Si no te has registrado, ingresa aqu\xed. "])),(n()(),e.pb(29,0,null,null,4,"div",[["class","btn-container-signup"],["routerLink","/signin"]],null,[[null,"click"]],(function(n,t,l){var i=!0;return"click"===t&&(i=!1!==e.Bb(n,30).onClick()&&i),"click"===t&&(i=!1!==e.Bb(n,31).onClick(l)&&i),i}),null,null)),e.ob(30,16384,null,0,r.n,[r.m,r.a,[8,null],e.B,e.k],{routerLink:[0,"routerLink"]},null),e.ob(31,737280,null,0,a.Ib,[c.g,a.Fb,e.k,r.m,[2,r.n]],null,null),(n()(),e.pb(32,0,null,null,1,"div",[["class","btn"]],null,null,null,null,null)),(n()(),e.Fb(-1,null,[" REGISTRARME "])),(n()(),e.pb(34,0,null,null,1,"div",[["class","label-top-text"]],null,null,null,null,null)),(n()(),e.Fb(-1,null,[" Si ya tienes una cuenta, ingresa con tu identidad "])),(n()(),e.pb(36,0,null,null,30,"div",[["class","element"]],null,null,null,null,null)),(n()(),e.pb(37,0,null,null,1,"div",[["class","title-element"]],null,null,null,null,null)),(n()(),e.Fb(-1,null,[" N\xfamero de identidad "])),(n()(),e.pb(39,0,null,null,27,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),e.pb(40,0,[[1,0],["identityOne",1]],null,8,"input",[["maxlength","4"],["pattern","[0-9]*"],["placeholder","0101"],["type","text"]],[[1,"maxlength",0],[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,t,l){var i=!0,o=n.component;return"input"===t&&(i=!1!==e.Bb(n,41)._handleInput(l.target.value)&&i),"blur"===t&&(i=!1!==e.Bb(n,41).onTouched()&&i),"compositionstart"===t&&(i=!1!==e.Bb(n,41)._compositionStart()&&i),"compositionend"===t&&(i=!1!==e.Bb(n,41)._compositionEnd(l.target.value)&&i),"ngModelChange"===t&&(i=!1!==(o.userData.identityOne=l)&&i),"input"===t&&(i=!1!==o.validateIdentityOne()&&i),i}),null,null)),e.ob(41,16384,null,0,s.b,[e.B,e.k,[2,s.a]],null,null),e.ob(42,540672,null,0,s.d,[],{maxlength:[0,"maxlength"]},null),e.ob(43,540672,null,0,s.k,[],{pattern:[0,"pattern"]},null),e.Cb(1024,null,s.e,(function(n,t){return[n,t]}),[s.d,s.k]),e.Cb(1024,null,s.f,(function(n){return[n]}),[s.b]),e.ob(46,671744,null,0,s.i,[[8,null],[6,s.e],[8,null],[6,s.f]],{model:[0,"model"]},{update:"ngModelChange"}),e.Cb(2048,null,s.g,null,[s.i]),e.ob(48,16384,null,0,s.h,[[4,s.g]],null,null),(n()(),e.pb(49,0,[[2,0],["identityTwo",1]],null,8,"input",[["maxlength","4"],["pattern","[0-9]*"],["placeholder","1980"],["type","text"]],[[1,"maxlength",0],[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,t,l){var i=!0,o=n.component;return"input"===t&&(i=!1!==e.Bb(n,50)._handleInput(l.target.value)&&i),"blur"===t&&(i=!1!==e.Bb(n,50).onTouched()&&i),"compositionstart"===t&&(i=!1!==e.Bb(n,50)._compositionStart()&&i),"compositionend"===t&&(i=!1!==e.Bb(n,50)._compositionEnd(l.target.value)&&i),"ngModelChange"===t&&(i=!1!==(o.userData.identityTwo=l)&&i),"input"===t&&(i=!1!==o.validateIdentityTwo()&&i),i}),null,null)),e.ob(50,16384,null,0,s.b,[e.B,e.k,[2,s.a]],null,null),e.ob(51,540672,null,0,s.d,[],{maxlength:[0,"maxlength"]},null),e.ob(52,540672,null,0,s.k,[],{pattern:[0,"pattern"]},null),e.Cb(1024,null,s.e,(function(n,t){return[n,t]}),[s.d,s.k]),e.Cb(1024,null,s.f,(function(n){return[n]}),[s.b]),e.ob(55,671744,null,0,s.i,[[8,null],[6,s.e],[8,null],[6,s.f]],{model:[0,"model"]},{update:"ngModelChange"}),e.Cb(2048,null,s.g,null,[s.i]),e.ob(57,16384,null,0,s.h,[[4,s.g]],null,null),(n()(),e.pb(58,0,[[3,0],["identityThree",1]],null,8,"input",[["maxlength","5"],["pattern","[0-9]*"],["placeholder","12345"],["type","text"]],[[1,"maxlength",0],[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,t,l){var i=!0,o=n.component;return"input"===t&&(i=!1!==e.Bb(n,59)._handleInput(l.target.value)&&i),"blur"===t&&(i=!1!==e.Bb(n,59).onTouched()&&i),"compositionstart"===t&&(i=!1!==e.Bb(n,59)._compositionStart()&&i),"compositionend"===t&&(i=!1!==e.Bb(n,59)._compositionEnd(l.target.value)&&i),"ngModelChange"===t&&(i=!1!==(o.userData.identityThree=l)&&i),"input"===t&&(i=!1!==o.validateIdentityThree()&&i),i}),null,null)),e.ob(59,16384,null,0,s.b,[e.B,e.k,[2,s.a]],null,null),e.ob(60,540672,null,0,s.d,[],{maxlength:[0,"maxlength"]},null),e.ob(61,540672,null,0,s.k,[],{pattern:[0,"pattern"]},null),e.Cb(1024,null,s.e,(function(n,t){return[n,t]}),[s.d,s.k]),e.Cb(1024,null,s.f,(function(n){return[n]}),[s.b]),e.ob(64,671744,null,0,s.i,[[8,null],[6,s.e],[8,null],[6,s.f]],{model:[0,"model"]},{update:"ngModelChange"}),e.Cb(2048,null,s.g,null,[s.i]),e.ob(66,16384,null,0,s.h,[[4,s.g]],null,null),(n()(),e.pb(67,0,null,null,2,"div",[],[[8,"className",0]],[[null,"click"]],(function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.processForm()&&e),e}),null,null)),(n()(),e.pb(68,0,null,null,1,"div",[["class","btn"]],null,null,null,null,null)),(n()(),e.Fb(-1,null,[" INICIAR "]))],(function(n,t){var l=t.component;n(t,10,0,"primary"),n(t,15,0,"backward"),n(t,16,0,"/map"),n(t,17,0,"backward"),n(t,19,0,"map-outline"),n(t,23,0,"assets/icon/LOGO_.svg"),n(t,30,0,"/signin"),n(t,31,0),n(t,42,0,"4"),n(t,43,0,"[0-9]*"),n(t,46,0,l.userData.identityOne),n(t,51,0,"4"),n(t,52,0,"[0-9]*"),n(t,55,0,l.userData.identityTwo),n(t,60,0,"5"),n(t,61,0,"[0-9]*"),n(t,64,0,l.userData.identityThree)}),(function(n,t){var l=t.component;n(t,39,0,e.tb(1,"input-container ",l.validIdentity," identity")),n(t,40,0,e.Bb(t,42).maxlength?e.Bb(t,42).maxlength:null,e.Bb(t,43).pattern?e.Bb(t,43).pattern:null,e.Bb(t,48).ngClassUntouched,e.Bb(t,48).ngClassTouched,e.Bb(t,48).ngClassPristine,e.Bb(t,48).ngClassDirty,e.Bb(t,48).ngClassValid,e.Bb(t,48).ngClassInvalid,e.Bb(t,48).ngClassPending),n(t,49,0,e.Bb(t,51).maxlength?e.Bb(t,51).maxlength:null,e.Bb(t,52).pattern?e.Bb(t,52).pattern:null,e.Bb(t,57).ngClassUntouched,e.Bb(t,57).ngClassTouched,e.Bb(t,57).ngClassPristine,e.Bb(t,57).ngClassDirty,e.Bb(t,57).ngClassValid,e.Bb(t,57).ngClassInvalid,e.Bb(t,57).ngClassPending),n(t,58,0,e.Bb(t,60).maxlength?e.Bb(t,60).maxlength:null,e.Bb(t,61).pattern?e.Bb(t,61).pattern:null,e.Bb(t,66).ngClassUntouched,e.Bb(t,66).ngClassTouched,e.Bb(t,66).ngClassPristine,e.Bb(t,66).ngClassDirty,e.Bb(t,66).ngClassValid,e.Bb(t,66).ngClassInvalid,e.Bb(t,66).ngClassPending),n(t,67,0,e.tb(1,"btn-container-login ",l.btnEnabled(),""))}))}var C=e.lb("app-login",p,(function(n){return e.Gb(0,[(n()(),e.pb(0,0,null,null,1,"app-login",[],null,null,null,m,h)),e.ob(1,114688,null,0,p,[g.a,b.a,d.a,r.m],null,null)],(function(n,t){n(t,1,0)}),null)}),{},{},[]);class x{}l.d(t,"LoginPageModuleNgFactory",(function(){return f}));var f=e.mb(i,[],(function(n){return e.yb([e.zb(512,e.j,e.X,[[8,[o.a,C]],[3,e.j],e.v]),e.zb(4608,c.k,c.j,[e.s,[2,c.q]]),e.zb(4608,s.m,s.m,[]),e.zb(4608,a.b,a.b,[e.x,e.g]),e.zb(4608,a.Eb,a.Eb,[a.b,e.j,e.p]),e.zb(4608,a.Hb,a.Hb,[a.b,e.j,e.p]),e.zb(1073742336,c.b,c.b,[]),e.zb(1073742336,s.l,s.l,[]),e.zb(1073742336,s.c,s.c,[]),e.zb(1073742336,a.Bb,a.Bb,[]),e.zb(1073742336,r.o,r.o,[[2,r.t],[2,r.m]]),e.zb(1073742336,x,x,[]),e.zb(1073742336,i,i,[]),e.zb(1024,r.k,(function(){return[[{path:"",component:p}]]}),[])])}))}}]);