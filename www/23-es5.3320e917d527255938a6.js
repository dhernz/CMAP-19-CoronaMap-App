(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{CE8X:function(l,n,t){"use strict";t.r(n);var e=t("8Y7J");class u{}var o=t("pMnS"),s=t("MKJQ"),i=t("sZkV"),a=t("iInd"),c=t("SVse"),r=t("gTw3"),b=t("H+bZ"),p=t("OlR4"),m=t("kPEz");class d{constructor(l,n,t,e,u,o,s){this.menu=l,this.geolocation=n,this.ga=t,this.router=e,this.socket=u,this.common=o,this.apiService=s,this.statusAll=[]}ngOnInit(){0==this.apiService.statusAll.length?(this.common.presentLoading(),this.apiService.getAllStatus().then(l=>{this.statusAll=l,this.common.hideLoading(),console.log(this.statusAll)})):this.statusAll=this.apiService.statusAll,this.socket.connect(),this.socket.fromEvent("new-user").subscribe(l=>{localStorage.getItem("uid")!=l.uid&&this.common.presentToastDown(l.message)}),this.ga.trackPagesHandler("User Status","/user-status")}updateStatus(l,n){this.common.presentLoading();let t=this.statusAll.find(({code:n})=>n===l);this.geolocation.getCurrentPosition().then(l=>{this.apiService.setReport({latitude:l.coords.latitude,longitude:l.coords.longitude,status_id:t.id}).then(l=>{console.log(l),localStorage.setItem("statusId",t.id);let e=localStorage.getItem("address"),u=Date.now().toString();localStorage.setItem("uid",u),this.socket.emit("new-user",{uid:u,message:"Un usuario en ".concat(e," con estado ").concat(t.name," acaba de registrarse")}),this.common.hideLoading(),this.router.navigate([n])}).catch(l=>{console.log("error setting report",l),this.common.presentToast(l),this.common.hideLoading()})}).catch(l=>{console.log("Error getting location",l),this.common.hideLoading()})}setStatus(l,n){switch(l){case"infected":this.common.presentAlertConfirm("Estoy infectado","\xbfYa te hicieron la prueba?","Si",()=>{let t=this.statusAll.find(({code:l})=>"symptoms"===l);localStorage.getItem("statusId")==t.id?this.updateStatus(l,n):this.updateStatus(l,"/symptoms")},"No",()=>{this.updateStatus("symptoms","/symptoms")});break;case"recovered":this.common.presentToast("Solo el administrador asignar este estado.");break;default:this.updateStatus(l,n)}}ionViewDidEnter(){this.menu.enable(!1,"first")}}var g=t("RH9n"),h=e.nb({encapsulation:0,styles:[[".status-element.blue[_ngcontent-%COMP%]{border:1px solid #90dffc}.status-element.blue[_ngcontent-%COMP%]   .text-element[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#00b1fa}.status-element.yellow[_ngcontent-%COMP%]{border:1px solid #f5ca5b}.status-element.yellow[_ngcontent-%COMP%]   .text-element[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fa9600}.status-element.red[_ngcontent-%COMP%]{border:1px solid #fc9090}.status-element.red[_ngcontent-%COMP%]   .text-element[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#df3030}.status-element.green[_ngcontent-%COMP%]{border:1px solid #90fce9}.status-element.green[_ngcontent-%COMP%]   .text-element[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#30dfa0}.status-element[_ngcontent-%COMP%]{border:1px solid #90dffc;box-sizing:border-box;height:100px;padding:10px;border-radius:25px;margin-left:40px;margin-right:40px;margin-bottom:20px;display:-webkit-box;display:flex}.status-element[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:71.06px;height:71.06px}.status-element[_ngcontent-%COMP%]   .text-element[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center;margin-left:10px}.status-element[_ngcontent-%COMP%]   .text-element[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:22px;line-height:26px;letter-spacing:-.47px;color:#00b1fa}.status-element[_ngcontent-%COMP%]   .text-element[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin-top:5px;font-style:normal;font-weight:400;font-size:16px;line-height:19px;letter-spacing:-.47px;color:#333}ion-item[_ngcontent-%COMP%]{border:1px solid #90dffc;box-sizing:border-box;border-radius:25px;margin-left:40px;margin-right:40px;margin-bottom:20px}.subtitle[_ngcontent-%COMP%]{text-align:center}ion-title[_ngcontent-%COMP%]{position:absolute;top:0;left:0;padding:0 90px 1px;width:100%;height:100%;text-align:center}"]],data:{}});function x(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,20,"ion-header",[],null,null,null,s.z,s.i)),e.ob(1,49152,null,0,i.B,[e.h,e.k,e.x],null,null),(l()(),e.pb(2,0,null,0,18,"ion-toolbar",[],null,null,null,s.H,s.q)),e.ob(3,49152,null,0,i.zb,[e.h,e.k,e.x],null,null),(l()(),e.pb(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,s.u,s.d)),e.ob(5,49152,null,0,i.l,[e.h,e.k,e.x],null,null),(l()(),e.pb(6,0,null,0,2,"ion-back-button",[["color","primary"]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==e.Bb(l,8).onClick(t)&&u),u}),s.s,s.b)),e.ob(7,49152,null,0,i.g,[e.h,e.k,e.x],{color:[0,"color"]},null),e.ob(8,16384,null,0,i.h,[[2,i.fb],i.Fb],null,null),(l()(),e.pb(9,0,null,0,7,"ion-buttons",[["slot","end"]],null,null,null,s.u,s.d)),e.ob(10,49152,null,0,i.l,[e.h,e.k,e.x],null,null),(l()(),e.pb(11,0,null,0,5,"ion-button",[["routerDirection","forward"],["routerLink","/map"]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==e.Bb(l,13).onClick()&&u),"click"===n&&(u=!1!==e.Bb(l,14).onClick(t)&&u),u}),s.t,s.c)),e.ob(12,49152,null,0,i.k,[e.h,e.k,e.x],{routerDirection:[0,"routerDirection"]},null),e.ob(13,16384,null,0,a.n,[a.m,a.a,[8,null],e.B,e.k],{routerLink:[0,"routerLink"]},null),e.ob(14,737280,null,0,i.Ib,[c.g,i.Fb,e.k,a.m,[2,a.n]],{routerDirection:[0,"routerDirection"]},null),(l()(),e.pb(15,0,null,0,1,"ion-icon",[["name","map-outline"],["slot","icon-only"]],null,null,null,s.A,s.j)),e.ob(16,49152,null,0,i.C,[e.h,e.k,e.x],{name:[0,"name"]},null),(l()(),e.pb(17,0,null,0,3,"ion-title",[],null,null,null,s.G,s.p)),e.ob(18,49152,null,0,i.xb,[e.h,e.k,e.x],null,null),(l()(),e.pb(19,0,null,0,1,"ion-img",[["src","assets/icon/LOGO_.svg"],["style","height: 40px;"]],null,null,null,s.B,s.k)),e.ob(20,49152,null,0,i.D,[e.h,e.k,e.x],{src:[0,"src"]},null),(l()(),e.pb(21,0,null,null,37,"ion-content",[],null,null,null,s.w,s.f)),e.ob(22,49152,null,0,i.u,[e.h,e.k,e.x],null,null),(l()(),e.pb(23,0,null,0,3,"div",[["class","subtitle"]],null,null,null,null,null)),(l()(),e.pb(24,0,null,null,2,"h5",[],null,null,null,null,null)),(l()(),e.pb(25,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),e.Fb(-1,null,["Cuentanos como has estado"])),(l()(),e.pb(27,0,null,0,7,"div",[["button",""],["class","status-element blue"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.setStatus("fine","/map")&&e),e}),null,null)),(l()(),e.pb(28,0,null,null,1,"div",[["class","image"]],null,null,null,null,null)),(l()(),e.pb(29,0,null,null,0,"img",[["src","assets/images/fine_user.png"]],null,null,null,null,null)),(l()(),e.pb(30,0,null,null,4,"div",[["class","text-element"]],null,null,null,null,null)),(l()(),e.pb(31,0,null,null,1,"div",[["class","title"]],null,null,null,null,null)),(l()(),e.Fb(-1,null,[" Estoy bien "])),(l()(),e.pb(33,0,null,null,1,"div",[["class","subtitle"]],null,null,null,null,null)),(l()(),e.Fb(-1,null,[" Sin ningun sintoma "])),(l()(),e.pb(35,0,null,0,7,"div",[["button",""],["class","status-element yellow"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.setStatus("symptoms","/symptoms")&&e),e}),null,null)),(l()(),e.pb(36,0,null,null,1,"div",[["class","image"]],null,null,null,null,null)),(l()(),e.pb(37,0,null,null,0,"img",[["src","assets/images/symptoms.png"]],null,null,null,null,null)),(l()(),e.pb(38,0,null,null,4,"div",[["class","text-element"]],null,null,null,null,null)),(l()(),e.pb(39,0,null,null,1,"div",[["class","title"]],null,null,null,null,null)),(l()(),e.Fb(-1,null,[" Tengo sintomas "])),(l()(),e.pb(41,0,null,null,1,"div",[["class","subtitle"]],null,null,null,null,null)),(l()(),e.Fb(-1,null,[" Con fiebre, fatiga, etc "])),(l()(),e.pb(43,0,null,0,7,"div",[["button",""],["class","status-element red"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.setStatus("infected","/map")&&e),e}),null,null)),(l()(),e.pb(44,0,null,null,1,"div",[["class","image"]],null,null,null,null,null)),(l()(),e.pb(45,0,null,null,0,"img",[["src","assets/images/infected.png"]],null,null,null,null,null)),(l()(),e.pb(46,0,null,null,4,"div",[["class","text-element"]],null,null,null,null,null)),(l()(),e.pb(47,0,null,null,1,"div",[["class","title"]],null,null,null,null,null)),(l()(),e.Fb(-1,null,[" Estoy infectado "])),(l()(),e.pb(49,0,null,null,1,"div",[["class","subtitle"]],null,null,null,null,null)),(l()(),e.Fb(-1,null,[" Fui testeado positivo "])),(l()(),e.pb(51,0,null,0,7,"div",[["button",""],["class","status-element green"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.setStatus("recovered","/map")&&e),e}),null,null)),(l()(),e.pb(52,0,null,null,1,"div",[["class","image"]],null,null,null,null,null)),(l()(),e.pb(53,0,null,null,0,"img",[["src","assets/images/recovered.png"]],null,null,null,null,null)),(l()(),e.pb(54,0,null,null,4,"div",[["class","text-element"]],null,null,null,null,null)),(l()(),e.pb(55,0,null,null,1,"div",[["class","title"]],null,null,null,null,null)),(l()(),e.Fb(-1,null,[" Me recuper\xe9 "])),(l()(),e.pb(57,0,null,null,1,"div",[["class","subtitle"]],null,null,null,null,null)),(l()(),e.Fb(-1,null,[" Ya fui tratado con \xe9xito. "]))],(function(l,n){l(n,7,0,"primary"),l(n,12,0,"forward"),l(n,13,0,"/map"),l(n,14,0,"forward"),l(n,16,0,"map-outline"),l(n,20,0,"assets/icon/LOGO_.svg")}),null)}var f=e.lb("app-user-status",d,(function(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,1,"app-user-status",[],null,null,null,x,h)),e.ob(1,114688,null,0,d,[i.Db,r.a,m.a,a.m,g.a,p.a,b.a],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),k=t("s7LF");class v{}t.d(n,"UserStatusPageModuleNgFactory",(function(){return C}));var C=e.mb(u,[],(function(l){return e.yb([e.zb(512,e.j,e.X,[[8,[o.a,f]],[3,e.j],e.v]),e.zb(4608,c.j,c.i,[e.s,[2,c.p]]),e.zb(4608,k.m,k.m,[]),e.zb(4608,i.b,i.b,[e.x,e.g]),e.zb(4608,i.Eb,i.Eb,[i.b,e.j,e.p]),e.zb(4608,i.Hb,i.Hb,[i.b,e.j,e.p]),e.zb(1073742336,c.b,c.b,[]),e.zb(1073742336,k.l,k.l,[]),e.zb(1073742336,k.c,k.c,[]),e.zb(1073742336,i.Bb,i.Bb,[]),e.zb(1073742336,a.o,a.o,[[2,a.t],[2,a.m]]),e.zb(1073742336,v,v,[]),e.zb(1073742336,u,u,[]),e.zb(1024,a.k,(function(){return[[{path:"",component:d}]]}),[])])}))}}]);